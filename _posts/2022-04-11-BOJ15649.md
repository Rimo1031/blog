---
title: "BOJ 15649. N과 M (1)"
excerpt: "자연수 N과 M이 주어졌을 때, 아래 조건을 만족하는 길이가 M인 수열을 모두 구하는 프로그램을 작성하시오."
categories: 
  - Problem Solving
tags:
  - Backtracking
toc: true
toc_sticky: true
last_modified_at : 2022-04-12T00:30:00
---
## [문제](https://boj.kr/15649)
자연수 N과 M이 주어졌을 때, 아래 조건을 만족하는 길이가 M인 수열을 모두 구하는 프로그램을 작성하시오.
-   1부터 N까지 자연수 중에서 중복 없이 M개를 고른 수열

## 문제 정보 

| [solved.ac](https://solved.ac) Tier | Time Limit | Memory Limit |
|:-----------------------------------:|:----------:|:------------:|
| Silver 3                            | 1 s        | 128 MB       |

## 입력
첫째 줄에 자연수 N과 M이 주어진다. (1 ≤ M ≤ N ≤ 8)
## 출력
한 줄에 하나씩 문제의 조건을 만족하는 수열을 출력한다. 중복되는 수열을 여러 번 출력하면 안되며, 각 수열은 공백으로 구분해서 출력해야 한다.
수열은 사전 순으로 증가하는 순서로 출력해야 한다.
## 코드
- 사용 언어 : C++

```cpp
#include <cstdio>
#include <vector>

using namespace std;

vector<int> v;
bool chosen[10]{0};
int n, m;

void perm() {
    if (v.size() == m) {
        for (auto i : v) {
            printf("%d ", i);
        }
        printf("\n");
    }
    else {
        for (int i=1;i<=n;i++) {
            if (chosen[i]) continue;
            v.push_back(i);
            chosen[i] = true;
            perm();
            chosen[i] = false;
            v.pop_back();
        }
    }
}

int main(void) {
    scanf("%d %d", &n, &m);
    perm();
    return 0;
}
```

## 해설
> 1부터 n까지의 모든 자연수를 배열에 차례로 ``push``, ``pop``하되, 이미 저장된 수는 또 저장하지 않는 과정을 추가하여 문제를 해결한다.


---

### 변수
#### ``vector<int> v``
순열을 구성하는 수가 저장되는 ``vector``이다.

#### ``bool chosen[10]{0}``
``i``번째 수가 이미 선택된 수인지를 저장하는 배열이다. 입력으로 주어지는 수가 최대 8이므로 여유 있게 배열의 길이를 10까지로 설정하였으며, 기본적으로 모든 수가 선택되지 않은 상태이므로 0으로 초기화한다.

### 함수

#### ``void perm()``

재귀를 이용해 순열을 생성하고 출력하는 함수이다.

 1. 순열을 생성하기 전에 ``v``의 크기를 검사해 주어진 순열의 길이와 일치하면 순열을 출력하고 함수를 종료한다.

 2. ``1``부터 ``n``까지의 수를 순회하며 ``v``에 저장할지를 결정한다. 
   
 3. ``chosen[i] == true``라면 이미 ``v``에 포함된 수이므로 ``continue`` 문을 이용해 바로 다음 수로 넘어간다.

 4. ``i``를 ``v``의 마지막 위치에 저장하고 ``chosen[i]``를 ``true``로 변경한 뒤, ``perm()`` 함수를 다시 호출해 그 다음 수에 대한 판별을 진행한다. ``i``가 저장된 경우에 대한 탐색이 모두 끝나면, ``perm()`` 함수의 호출이 종료되고 ``chosen[i]``를 ``false``로 변경한 뒤 ``v``의 마지막 원소 ``i``를 ``pop``한 뒤 다음 수로 넘어간다.
